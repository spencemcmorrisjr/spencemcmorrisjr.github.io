<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Driver Checklist | Left Door Shut Dispatch</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: system-ui, sans-serif;
  background: linear-gradient(180deg,#020617,#0f172a);
  color: #e5e7eb;
  padding: 20px;
}

.container {
  max-width: 900px;
  margin: auto;
}

h1 {
  text-align: center;
  margin-bottom: 20px;
}

.card {
  background: #020617;
  border-radius: 14px;
  padding: 20px;
  margin-bottom: 18px;
  box-shadow: 0 10px 30px rgba(0,0,0,.4);
}

.driver-name {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 10px;
}

.row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 8px 0;
}

.status {
  padding: 6px 12px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 700;
}

.complete {
  background: #22c55e;
  color: #022c22;
}

.missing {
  background: #ef4444;
  color: white;
}

a.doc {
  color: #38bdf8;
  font-size: 13px;
  text-decoration: none;
}
</style>
</head>

<body>
<div class="container">
<h1>Driver Document Checklist</h1>
<div id="drivers"></div>
</div>

<script>
const SHEET_ID = "1RUV1fa3QPfDCvUHlrLSkHKDSI75dlBFRb-tGP8lOhN8";
const TAB_NAME = "Checklist";

const URL = `https://opensheet.elk.sh/${SHEET_ID}/${TAB_NAME}`;

fetch(URL)
  .then(res => res.json())
  .then(data => renderDrivers(data));

function statusBlock(label, link) {
  if (link && link.trim() !== "") {
    return `
      <div class="row">
        <span>${label}</span>
        <span class="status complete">RECEIVED</span>
        <a class="doc" href="${link}" target="_blank">View</a>
      </div>`;
  } else {
    return `
      <div class="row">
        <span>${label}</span>
        <span class="status missing">MISSING</span>
      </div>`;
  }
}

function renderDrivers(drivers) {
  const container = document.getElementById("drivers");

  drivers.forEach(d => {
    container.innerHTML += `
      <div class="card">
        <div class="driver-name">${d.Name}</div>
        ${statusBlock("W-9", d["W9 Link"])}
        ${statusBlock("CDL", d["CDL Link"])}
        ${statusBlock("Insurance", d["Insurance Link"])}
      </div>
    `;
  });
}
</script>
</body>
</html>
